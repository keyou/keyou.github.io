---
published: false
---

# blink

```C++
创建 LayerTreeHost
libcc.so!cc::LayerTreeHost::LayerTreeHost(cc::LayerTreeHost * this, cc::LayerTreeHost::InitParams params, cc::CompositorMode mode) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:140)
libcc.so!cc::LayerTreeHost::CreateSingleThreaded(ui::Compositor * single_thread_client, cc::LayerTreeHost::InitParams params) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:116)
libcompositor.so!ui::Compositor::Compositor(ui::Compositor * this, const viz::FrameSinkId & frame_sink_id, content::VizProcessTransportFactory * context_factory, ui::HostContextFactoryPrivate * context_factory_private, scoped_refptr<base::SingleThreadTaskRunner> task_runner, bool enable_pixel_canvas, bool use_external_begin_frame_control, bool force_software_compositor, const char * trace_environment_name) (/media/keyou/dev2/chromium64/src/ui/compositor/compositor.cc:216)
libaura.so!std::__Cr::make_unique<ui::Compositor, viz::FrameSinkId const, ui::ContextFactory*&, ui::ContextFactoryPrivate*&, scoped_refptr<base::SingleThreadTaskRunner> const&, bool, bool&, bool&, char const*&>(const char *& __args, const char *& __args, const char *& __args, const char *& __args, const char *& __args, const char *& __args, const char *& __args, const char *& __args) (/media/keyou/dev2/chromium64/src/buildtools/third_party/libc++/trunk/include/memory:3043)
libaura.so!aura::WindowTreeHost::CreateCompositor(views::DesktopWindowTreeHostX11 * this, const viz::FrameSinkId & frame_sink_id, bool force_software_compositor, bool use_external_begin_frame_control, const char * trace_environment_name) (/media/keyou/dev2/chromium64/src/ui/aura/window_tree_host.cc:430)
libviews.so!views::DesktopWindowTreeHostPlatform::Init(views::DesktopWindowTreeHostX11 * this, const views::Widget::InitParams & params) (/media/keyou/dev2/chromium64/src/ui/views/widget/desktop_aura/desktop_window_tree_host_platform.cc:152)
libviews.so!views::DesktopWindowTreeHostLinux::Init(views::DesktopWindowTreeHostX11 * this, const views::Widget::InitParams & params) (/media/keyou/dev2/chromium64/src/ui/views/widget/desktop_aura/desktop_window_tree_host_linux.cc:163)
libviews.so!views::DesktopWindowTreeHostX11::Init(views::DesktopWindowTreeHostX11 * this, const views::Widget::InitParams & params) (/media/keyou/dev2/chromium64/src/ui/views/widget/desktop_aura/desktop_window_tree_host_x11.cc:96)
libviews.so!views::DesktopNativeWidgetAura::InitNativeWidget(views::DesktopNativeWidgetAura * this, views::Widget::InitParams params) (/media/keyou/dev2/chromium64/src/ui/views/widget/desktop_aura/desktop_native_widget_aura.cc:485)
libviews.so!views::Widget::Init(views::Widget * this, views::Widget::InitParams params) (/media/keyou/dev2/chromium64/src/ui/views/widget/widget.cc:353)
content::DemoShell::PlatformCreateWindow(content::DemoShell * this, int width, int height) (/media/keyou/dev2/chromium64/src/demo/demo_shell/browser/shell_views.cc:175)
content::DemoShell::CreateShell(std::__Cr::unique_ptr<content::WebContents, std::__Cr::default_delete<content::WebContents> > web_contents, const gfx::Size & initial_size, bool should_set_delegate) (/media/keyou/dev2/chromium64/src/demo/demo_shell/browser/shell.cc:65)
content::DemoShell::CreateNewWindow(content::DemoShellBrowserContext * browser_context, const GURL & url, const scoped_refptr<content::SiteInstance> & site_instance, const gfx::Size & initial_size) (/media/keyou/dev2/chromium64/src/demo/demo_shell/browser/shell.cc:87)
content::DemoShellBrowserMainParts::InitializeMessageLoopContext(content::DemoShellBrowserMainParts * this) (/media/keyou/dev2/chromium64/src/demo/demo_shell/browser/demo_shell_browser_main_parts.cc:91)
content::DemoShellBrowserMainParts::PreMainMessageLoopRun(content::DemoShellBrowserMainParts * this) (/media/keyou/dev2/chromium64/src/demo/demo_shell/browser/demo_shell_browser_main_parts.cc:100)
libcontent.so!content::BrowserMainLoop::PreMainMessageLoopRun(content::BrowserMainLoop * this) (/media/keyou/dev2/chromium64/src/content/browser/browser_main_loop.cc:1029)
libcontent.so!base::internal::FunctorTraits<int (content::BrowserMainLoop::*)(), void>::Invoke<int (content::BrowserMainLoop::*)(), content::BrowserMainLoop*>(int (content::BrowserMainLoop::*)(content::BrowserMainLoop * const) method, content::BrowserMainLoop *&& receiver_ptr) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:498)
libcontent.so!base::internal::InvokeHelper<false, int>::MakeItSo<int (content::BrowserMainLoop::*)(), content::BrowserMainLoop*>(int (content::BrowserMainLoop::*&&)(content::BrowserMainLoop * const) functor, content::BrowserMainLoop *&& args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:598)
libcontent.so!base::internal::Invoker<base::internal::BindState<int (content::BrowserMainLoop::*)(), base::internal::UnretainedWrapper<content::BrowserMainLoop> >, int ()>::RunImpl<int (content::BrowserMainLoop::*)(), std::__Cr::tuple<base::internal::UnretainedWrapper<content::BrowserMainLoop> >, 0ul>(int (content::BrowserMainLoop::*&&)(), std::__Cr::tuple<base::internal::UnretainedWrapper<content::BrowserMainLoop> >&&, std::__Cr::integer_sequence<unsigned long, 0ul>)(int (content::BrowserMainLoop::*&&)(content::BrowserMainLoop * const) functor, std::__Cr::tuple<base::internal::UnretainedWrapper<content::BrowserMainLoop> > && bound) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:671)
libcontent.so!base::internal::Invoker<base::internal::BindState<int (content::BrowserMainLoop::*)(), base::internal::UnretainedWrapper<content::BrowserMainLoop> >, int ()>::RunOnce(base::internal::BindStateBase*)(base::internal::BindStateBase * base) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:640)
libcontent.so!base::OnceCallback<int ()>::Run() &&(base::OnceCallback<int ()> * this) (/media/keyou/dev2/chromium64/src/base/callback.h:98)
libcontent.so!content::StartupTaskRunner::RunAllTasksNow(content::StartupTaskRunner * this) (/media/keyou/dev2/chromium64/src/content/browser/startup_task_runner.cc:41)
libcontent.so!content::BrowserMainLoop::CreateStartupTasks(content::BrowserMainLoop * this) (/media/keyou/dev2/chromium64/src/content/browser/browser_main_loop.cc:938)
libcontent.so!content::BrowserMainRunnerImpl::Initialize(content::BrowserMainRunnerImpl * this, const content::MainFunctionParams & parameters) (/media/keyou/dev2/chromium64/src/content/browser/browser_main_runner_impl.cc:129)
libcontent.so!content::BrowserMain(const content::MainFunctionParams & parameters) (/media/keyou/dev2/chromium64/src/content/browser/browser_main.cc:43)
libcontent.so!content::RunBrowserProcessMain(const content::MainFunctionParams & main_function_params, content::DemoShellContentMainDelegate * delegate) (/media/keyou/dev2/chromium64/src/content/app/content_main_runner_impl.cc:527)
libcontent.so!content::ContentMainRunnerImpl::RunServiceManager(content::ContentMainRunnerImpl * this, content::MainFunctionParams & main_params, bool start_service_manager_only) (/media/keyou/dev2/chromium64/src/content/app/content_main_runner_impl.cc:960)
libcontent.so!content::ContentMainRunnerImpl::Run(content::ContentMainRunnerImpl * this, bool start_service_manager_only) (/media/keyou/dev2/chromium64/src/content/app/content_main_runner_impl.cc:868)
libcontent.so!content::ContentServiceManagerMainDelegate::RunEmbedderProcess(content::ContentServiceManagerMainDelegate * this) (/media/keyou/dev2/chromium64/src/content/app/content_service_manager_main_delegate.cc:52)
libembedder.so!service_manager::Main(const service_manager::MainParams & params) (/media/keyou/dev2/chromium64/src/services/service_manager/embedder/main.cc:423)
libcontent.so!content::ContentMain(const content::ContentMainParams & params) (/media/keyou/dev2/chromium64/src/content/app/content_main.cc:19)
main(int argc, const char ** argv) (/media/keyou/dev2/chromium64/src/demo/demo_shell/app/demo_shell_main.cc:10)

请求 LayerTreeFrameSink，这里并没有实际创建LTFS，这个请求来自browser中的主线程
add content::VizProcessTransportFactory::OnEstablishedGpuChannel
libcontent.so!content::BrowserGpuChannelHostFactory::EstablishGpuChannel(base::OnceCallback<void (scoped_refptr<gpu::GpuChannelHost>)>)(content::BrowserGpuChannelHostFactory * this, gpu::GpuChannelEstablishedCallback callback) (/media/keyou/dev2/chromium64/src/content/browser/gpu/browser_gpu_channel_host_factory.cc:306)
libcontent.so!content::VizProcessTransportFactory::CreateLayerTreeFrameSink(content::VizProcessTransportFactory * this, base::WeakPtr<ui::Compositor> compositor) (/media/keyou/dev2/chromium64/src/content/browser/compositor/viz_process_transport_factory.cc:204)
libcompositor.so!ui::Compositor::RequestNewLayerTreeFrameSink(ui::Compositor * this) (/media/keyou/dev2/chromium64/src/ui/compositor/compositor.cc:622)
libcc.so!cc::LayerTreeHost::RequestNewLayerTreeFrameSink(cc::LayerTreeHost * this) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:499)
libcc.so!cc::SingleThreadProxy::RequestNewLayerTreeFrameSink(cc::SingleThreadProxy * this) (/media/keyou/dev2/chromium64/src/cc/trees/single_thread_proxy.cc:120)
libcc.so!base::internal::FunctorTraits<void (cc::SingleThreadProxy::*)(), void>::Invoke<void (cc::SingleThreadProxy::*)(), base::WeakPtr<cc::SingleThreadProxy>>(void (cc::SingleThreadProxy::*)(), base::WeakPtr<cc::SingleThreadProxy>&&)(void (cc::SingleThreadProxy::*)(cc::SingleThreadProxy * const) method, base::WeakPtr<cc::SingleThreadProxy> && receiver_ptr) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:498)
libcc.so!base::internal::InvokeHelper<true, void>::MakeItSo<void (cc::SingleThreadProxy::*)(), base::WeakPtr<cc::SingleThreadProxy>>(void (cc::SingleThreadProxy::*&&)(), base::WeakPtr<cc::SingleThreadProxy>&&)(void (cc::SingleThreadProxy::*&&)(cc::SingleThreadProxy * const) functor, base::WeakPtr<cc::SingleThreadProxy> && weak_ptr) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:618)
libcc.so!base::internal::Invoker<base::internal::BindState<void (cc::SingleThreadProxy::*)(), base::WeakPtr<cc::SingleThreadProxy> >, void ()>::RunImpl<void (cc::SingleThreadProxy::*)(), std::__Cr::tuple<base::WeakPtr<cc::SingleThreadProxy> >, 0ul>(void (cc::SingleThreadProxy::*&&)(), std::__Cr::tuple<base::WeakPtr<cc::SingleThreadProxy> >&&, std::__Cr::integer_sequence<unsigned long, 0ul>)(void (cc::SingleThreadProxy::*&&)(cc::SingleThreadProxy * const) functor, std::__Cr::tuple<base::WeakPtr<cc::SingleThreadProxy> > && bound) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:671)
libcc.so!base::internal::Invoker<base::internal::BindState<void (cc::SingleThreadProxy::*)(), base::WeakPtr<cc::SingleThreadProxy> >, void ()>::RunOnce(base::internal::BindStateBase*)(base::internal::BindStateBase * base) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:640)
libcc.so!base::OnceCallback<void ()>::Run() &&(base::OnceCallback<void ()> * this) (/media/keyou/dev2/chromium64/src/base/callback.h:98)
libcc.so!base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::ForwardOnce<>()(base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > * this) (/media/keyou/dev2/chromium64/src/base/cancelable_callback.h:127)
libcc.so!base::internal::FunctorTraits<void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(), void>::Invoke<void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(), base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > >>(void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(), base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > >&&)(void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > * const) method, base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > > && receiver_ptr) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:498)
libcc.so!base::internal::InvokeHelper<true, void>::MakeItSo<void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(), base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > >>(void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*&&)(), base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > >&&)(void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*&&)(base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > * const) functor, base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > > && weak_ptr) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:618)
libcc.so!base::internal::Invoker<base::internal::BindState<void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(), base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > > >, void ()>::RunImpl<void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(), std::__Cr::tuple<base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > > >, 0ul>(void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*&&)(), std::__Cr::tuple<base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > > >&&, std::__Cr::integer_sequence<unsigned long, 0ul>)(void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*&&)(base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > * const) functor, std::__Cr::tuple<base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > > > && bound) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:671)
libcc.so!base::internal::Invoker<base::internal::BindState<void (base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> >::*)(), base::WeakPtr<base::internal::CancelableCallbackImpl<base::OnceCallback<void ()> > > >, void ()>::RunOnce(base::internal::BindStateBase*)(base::internal::BindStateBase * base) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:640)
libbase.so!base::OnceCallback<void ()>::Run() &&(base::OnceCallback<void ()> * this) (/media/keyou/dev2/chromium64/src/base/callback.h:98)
libbase.so!base::TaskAnnotator::RunTask(base::TaskAnnotator * this, const char * trace_event_name, base::PendingTask * pending_task) (/media/keyou/dev2/chromium64/src/base/task/common/task_annotator.cc:142)
libbase.so!base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWorkImpl(base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl * this, base::sequence_manager::LazyNow * continuation_lazy_now, bool * ran_task) (/media/keyou/dev2/chromium64/src/base/task/sequence_manager/thread_controller_with_message_pump_impl.cc:365)
libbase.so!base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoSomeWork(base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl * this) (/media/keyou/dev2/chromium64/src/base/task/sequence_manager/thread_controller_with_message_pump_impl.cc:219)
libbase.so!non-virtual thunk to base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoSomeWork() (Unknown Source:0)
libbase.so!base::MessagePumpGlib::Run(base::MessagePumpGlib * this, base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl * delegate) (/media/keyou/dev2/chromium64/src/base/message_loop/message_pump_glib.cc:441)
libbase.so!base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::Run(base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl * this, bool application_tasks_allowed, base::TimeDelta timeout) (/media/keyou/dev2/chromium64/src/base/task/sequence_manager/thread_controller_with_message_pump_impl.cc:463)
libbase.so!base::RunLoop::Run(base::RunLoop * this) (/media/keyou/dev2/chromium64/src/base/run_loop.cc:156)
libcontent.so!content::BrowserMainLoop::MainMessageLoopRun(content::BrowserMainLoop * this) (/media/keyou/dev2/chromium64/src/content/browser/browser_main_loop.cc:1535)
libcontent.so!content::BrowserMainLoop::RunMainMessageLoopParts(content::BrowserMainLoop * this) (/media/keyou/dev2/chromium64/src/content/browser/browser_main_loop.cc:1062)
libcontent.so!content::BrowserMainRunnerImpl::Run(content::BrowserMainRunnerImpl * this) (/media/keyou/dev2/chromium64/src/content/browser/browser_main_runner_impl.cc:150)
libcontent.so!content::BrowserMain(const content::MainFunctionParams & parameters) (/media/keyou/dev2/chromium64/src/content/browser/browser_main.cc:47)
libcontent.so!content::RunBrowserProcessMain(const content::MainFunctionParams & main_function_params, content::DemoShellContentMainDelegate * delegate) (/media/keyou/dev2/chromium64/src/content/app/content_main_runner_impl.cc:527)
libcontent.so!content::ContentMainRunnerImpl::RunServiceManager(content::ContentMainRunnerImpl * this, content::MainFunctionParams & main_params, bool start_service_manager_only) (/media/keyou/dev2/chromium64/src/content/app/content_main_runner_impl.cc:960)
libcontent.so!content::ContentMainRunnerImpl::Run(content::ContentMainRunnerImpl * this, bool start_service_manager_only) (/media/keyou/dev2/chromium64/src/content/app/content_main_runner_impl.cc:868)
libcontent.so!content::ContentServiceManagerMainDelegate::RunEmbedderProcess(content::ContentServiceManagerMainDelegate * this) (/media/keyou/dev2/chromium64/src/content/app/content_service_manager_main_delegate.cc:52)
libembedder.so!service_manager::Main(const service_manager::MainParams & params) (/media/keyou/dev2/chromium64/src/services/service_manager/embedder/main.cc:423)
libcontent.so!content::ContentMain(const content::ContentMainParams & params) (/media/keyou/dev2/chromium64/src/content/app/content_main.cc:19)
main(int argc, const char ** argv) (/media/keyou/dev2/chromium64/src/demo/demo_shell/app/demo_shell_main.cc:10)

创建 Blink 中的 LayerTreeHost
libcc.so!cc::LayerTreeHost::LayerTreeHost(cc::LayerTreeHost * this, cc::LayerTreeHost::InitParams params, cc::CompositorMode mode) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:140)
libcc.so!cc::LayerTreeHost::CreateThreaded(scoped_refptr<base::SingleThreadTaskRunner> impl_task_runner, cc::LayerTreeHost::InitParams params) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:103)
libcontent.so!content::LayerTreeView::Initialize(content::LayerTreeView * this, const cc::LayerTreeSettings & settings, std::__Cr::unique_ptr<cc::UkmRecorderFactory, std::__Cr::default_delete<cc::UkmRecorderFactory> > ukm_recorder_factory) (/media/keyou/dev2/chromium64/src/content/renderer/compositor/layer_tree_view.cc:98)
libcontent.so!content::RenderWidget::InitCompositing(content::RenderWidget * this, const content::ScreenInfo & screen_info) (/media/keyou/dev2/chromium64/src/content/renderer/render_widget.cc:1864)
libcontent.so!content::RenderWidget::LivingInit(content::RenderWidget * this, blink::WebViewFrameWidget * web_widget, const content::ScreenInfo & screen_info) (/media/keyou/dev2/chromium64/src/content/renderer/render_widget.cc:579)
libcontent.so!content::RenderWidget::InitForMainFrame(base::OnceCallback<void (content::RenderWidget*, blink::WebNavigationPolicy, gfx::Rect const&)>, blink::WebFrameWidget*, content::ScreenInfo const*)(content::RenderWidget * this, content::RenderWidget::ShowCallback show_callback, blink::WebViewFrameWidget * web_frame_widget, const content::ScreenInfo * screen_info) (/media/keyou/dev2/chromium64/src/content/renderer/render_widget.cc:523)
libcontent.so!content::RenderFrameImpl::CreateMainFrame(content::RenderViewImpl*, content::CompositorDependencies*, blink::WebFrame*, mojo::StructPtr<content::mojom::CreateViewParams>*, base::OnceCallback<void (content::RenderWidget*, blink::WebNavigationPolicy, gfx::Rect const&)>)(content::RenderViewImpl * render_view, content::RenderThreadImpl * compositor_deps, blink::WebFrame * opener, content::mojom::CreateViewParamsPtr * params_ptr, content::RenderWidget::ShowCallback show_callback) (/media/keyou/dev2/chromium64/src/content/renderer/render_frame_impl.cc:1443)
libcontent.so!content::RenderViewImpl::Initialize(content::CompositorDependencies*, mojo::StructPtr<content::mojom::CreateViewParams>, base::OnceCallback<void (content::RenderWidget*, blink::WebNavigationPolicy, gfx::Rect const&)>, scoped_refptr<base::SingleThreadTaskRunner>)(content::RenderViewImpl * this, content::RenderThreadImpl * compositor_deps, content::mojom::CreateViewParamsPtr params, content::RenderWidget::ShowCallback show_callback, scoped_refptr<base::SingleThreadTaskRunner> task_runner) (/media/keyou/dev2/chromium64/src/content/renderer/render_view_impl.cc:502)
libcontent.so!content::RenderViewImpl::Create(content::CompositorDependencies*, mojo::StructPtr<content::mojom::CreateViewParams>, base::OnceCallback<void (content::RenderWidget*, blink::WebNavigationPolicy, gfx::Rect const&)>, scoped_refptr<base::SingleThreadTaskRunner>)(content::RenderThreadImpl * compositor_deps, content::mojom::CreateViewParamsPtr params, content::RenderWidget::ShowCallback show_callback, scoped_refptr<base::SingleThreadTaskRunner> task_runner) (/media/keyou/dev2/chromium64/src/content/renderer/render_view_impl.cc:1036)
libcontent.so!content::RenderThreadImpl::CreateView(content::RenderThreadImpl * this, content::mojom::CreateViewParamsPtr params) (/media/keyou/dev2/chromium64/src/content/renderer/render_thread_impl.cc:1833)
libcontent.so!content::mojom::RendererStubDispatch::Accept(content::RenderThreadImpl * impl, mojo::Message * message) (/media/keyou/dev2/chromium64/src/out/debug/gen/content/common/renderer.mojom.cc:967)

请求并创建 LayerTreeFrameSink，这个请求来自 Chrome_InProcRendererThread 线程，这个线程在多进程模式下是 GPU 进程的 主线程？
libcc.so!cc::ProxyMain::SetLayerTreeFrameSink(cc::ProxyMain * this, cc::mojo_embedder::AsyncLayerTreeFrameSink * layer_tree_frame_sink) (/media/keyou/dev2/chromium64/src/cc/trees/proxy_main.cc:375)
libcc.so!cc::LayerTreeHost::SetLayerTreeFrameSink(cc::LayerTreeHost * this, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > surface) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:487)
libcontent.so!content::LayerTreeView::SetLayerTreeFrameSink(content::LayerTreeView * this, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > layer_tree_frame_sink) (/media/keyou/dev2/chromium64/src/content/renderer/compositor/layer_tree_view.cc:127)
libcontent.so!base::internal::FunctorTraits<void (content::LayerTreeView::*)(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >), void>::Invoke<void (content::LayerTreeView::*)(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >), base::WeakPtr<content::LayerTreeView>, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > >(void (content::LayerTreeView::*)(content::LayerTreeView * const, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >) method, base::WeakPtr<content::LayerTreeView> && receiver_ptr, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > && args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:498)
libcontent.so!base::internal::InvokeHelper<true, void>::MakeItSo<void (content::LayerTreeView::*)(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >), base::WeakPtr<content::LayerTreeView>, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > >(void (content::LayerTreeView::*&&)(content::LayerTreeView * const, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >) functor, base::WeakPtr<content::LayerTreeView> && weak_ptr, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > && args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:618)
libcontent.so!base::internal::Invoker<base::internal::BindState<void (content::LayerTreeView::*)(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >), base::WeakPtr<content::LayerTreeView> >, void (std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >)>::RunImpl<void (content::LayerTreeView::*)(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >), std::__Cr::tuple<base::WeakPtr<content::LayerTreeView> >, 0ul>(void (content::LayerTreeView::*&&)(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >), std::__Cr::tuple<base::WeakPtr<content::LayerTreeView> >&&, std::__Cr::integer_sequence<unsigned long, 0ul>, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >&&)(void (content::LayerTreeView::*&&)(content::LayerTreeView * const, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >) functor, std::__Cr::tuple<base::WeakPtr<content::LayerTreeView> > && bound, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > && unbound_args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:671)
libcontent.so!base::internal::Invoker<base::internal::BindState<void (content::LayerTreeView::*)(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >), base::WeakPtr<content::LayerTreeView> >, void (std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >)>::RunOnce(base::internal::BindStateBase*, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >&&)(base::internal::BindStateBase * base, base::internal::PassingType<std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > > unbound_args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:640)
libcontent.so!base::OnceCallback<void (std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >)>::Run(std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >) &&(base::OnceCallback<void (std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >)> * this, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > args) (/media/keyou/dev2/chromium64/src/base/callback.h:98)
libcontent.so!content::RenderThreadImpl::RequestNewLayerTreeFrameSink(content::RenderWidget*, scoped_refptr<content::FrameSwapMessageQueue>, GURL const&, base::OnceCallback<void (std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >)>, mojo::PendingReceiver<content::mojom::RenderFrameMetadataObserverClient>, mojo::PendingRemote<content::mojom::RenderFrameMetadataObserver>, char const*)(content::RenderThreadImpl * this, content::RenderWidget * render_widget, const GURL & url, content::CompositorDependencies::LayerTreeFrameSinkCallback callback, mojo::PendingReceiver<content::mojom::RenderFrameMetadataObserverClient> render_frame_metadata_observer_client_receiver, mojo::PendingRemote<content::mojom::RenderFrameMetadataObserver> render_frame_metadata_observer_remote, const char * client_name) (/media/keyou/dev2/chromium64/src/content/renderer/render_thread_impl.cc:1808)
libcontent.so!non-virtual thunk to content::RenderThreadImpl::RequestNewLayerTreeFrameSink(content::RenderWidget*, scoped_refptr<content::FrameSwapMessageQueue>, GURL const&, base::OnceCallback<void (std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >)>, mojo::PendingReceiver<content::mojom::RenderFrameMetadataObserverClient>, mojo::PendingRemote<content::mojom::RenderFrameMetadataObserver>, char const*) (Unknown Source:0)
libcontent.so!content::RenderWidget::RequestNewLayerTreeFrameSink(base::OnceCallback<void (std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> >)>)(content::RenderWidget * this, content::LayerTreeViewDelegate::LayerTreeFrameSinkCallback callback) (/media/keyou/dev2/chromium64/src/content/renderer/render_widget.cc:1280)
libcontent.so!content::LayerTreeView::RequestNewLayerTreeFrameSink(content::LayerTreeView * this) (/media/keyou/dev2/chromium64/src/content/renderer/compositor/layer_tree_view.cc:255)
libcc.so!cc::LayerTreeHost::RequestNewLayerTreeFrameSink(cc::LayerTreeHost * this) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:499)
libcc.so!cc::ProxyMain::RequestNewLayerTreeFrameSink(cc::ProxyMain * this) (/media/keyou/dev2/chromium64/src/cc/trees/proxy_main.cc:106)


请求Viz创建 Root CFS
run content::VizProcessTransportFactory::OnEstablishedGpuChannel
libhost.so!viz::HostFrameSinkManager::CreateRootCompositorFrameSink(viz::HostFrameSinkManager * this, viz::mojom::RootCompositorFrameSinkParamsPtr params) (/media/keyou/dev2/chromium64/src/components/viz/host/host_frame_sink_manager.cc:160)
libcontent.so!ui::HostContextFactoryPrivate::ConfigureCompositor(ui::HostContextFactoryPrivate * this, ui::Compositor * compositor, scoped_refptr<viz::ContextProvider> context_provider, scoped_refptr<viz::RasterContextProvider> worker_context_provider) (/media/keyou/dev2/chromium64/src/ui/compositor/host/host_context_factory_private.cc:141)
libcontent.so!content::VizProcessTransportFactory::OnEstablishedGpuChannel(content::VizProcessTransportFactory * this, base::WeakPtr<ui::Compositor> compositor_weak_ptr, scoped_refptr<gpu::GpuChannelHost> gpu_channel_host) (/media/keyou/dev2/chromium64/src/content/browser/compositor/viz_process_transport_factory.cc:391)
libcontent.so!base::internal::FunctorTraits<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), void>::Invoke<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost> >(void (content::VizProcessTransportFactory::*)(content::VizProcessTransportFactory * const, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>) method, base::WeakPtr<content::VizProcessTransportFactory> && receiver_ptr, scoped_refptr<gpu::GpuChannelHost> && args, scoped_refptr<gpu::GpuChannelHost> && args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:498)
libcontent.so!base::internal::InvokeHelper<true, void>::MakeItSo<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost> >(void (content::VizProcessTransportFactory::*&&)(content::VizProcessTransportFactory * const, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>) functor, base::WeakPtr<content::VizProcessTransportFactory> && weak_ptr, scoped_refptr<gpu::GpuChannelHost> && args, scoped_refptr<gpu::GpuChannelHost> && args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:618)
libcontent.so!base::internal::Invoker<base::internal::BindState<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >, void (scoped_refptr<gpu::GpuChannelHost>)>::RunImpl<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), std::__Cr::tuple<base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >, 0ul, 1ul>(void (content::VizProcessTransportFactory::*&&)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), std::__Cr::tuple<base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >&&, std::__Cr::integer_sequence<unsigned long, 0ul, 1ul>, scoped_refptr<gpu::GpuChannelHost>&&)(void (content::VizProcessTransportFactory::*&&)(content::VizProcessTransportFactory * const, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>) functor, std::__Cr::tuple<base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> > && bound, scoped_refptr<gpu::GpuChannelHost> && unbound_args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:671)
libcontent.so!base::internal::Invoker<base::internal::BindState<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >, void (scoped_refptr<gpu::GpuChannelHost>)>::RunOnce(base::internal::BindStateBase*, scoped_refptr<gpu::GpuChannelHost>&&)(base::internal::BindStateBase * base, base::internal::PassingType<scoped_refptr<gpu::GpuChannelHost> > unbound_args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:640)
libcontent.so!base::OnceCallback<void (scoped_refptr<gpu::GpuChannelHost>)>::Run(scoped_refptr<gpu::GpuChannelHost>) &&(base::OnceCallback<void (scoped_refptr<gpu::GpuChannelHost>)> * this, scoped_refptr<gpu::GpuChannelHost> args) (/media/keyou/dev2/chromium64/src/base/callback.h:98)
libcontent.so!content::BrowserGpuChannelHostFactory::EstablishRequest::RunCallbacksOnMain(content::BrowserGpuChannelHostFactory::EstablishRequest * this) (/media/keyou/dev2/chromium64/src/content/browser/gpu/browser_gpu_channel_host_factory.cc:211)
libcontent.so!content::BrowserGpuChannelHostFactory::EstablishRequest::FinishAndRunCallbacksOnMain(content::BrowserGpuChannelHostFactory::EstablishRequest * this) (/media/keyou/dev2/chromium64/src/content/browser/gpu/browser_gpu_channel_host_factory.cc:195)
+
创建 LayerTreeFrameSink，这个请求运行在Browser中的主线程
libcc.so!cc::LayerTreeHostImpl::InitializeFrameSink(cc::LayerTreeHostImpl * this, cc::mojo_embedder::AsyncLayerTreeFrameSink * layer_tree_frame_sink) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host_impl.cc:3485)
libcc.so!cc::SingleThreadProxy::SetLayerTreeFrameSink(cc::SingleThreadProxy * this, cc::mojo_embedder::AsyncLayerTreeFrameSink * layer_tree_frame_sink) (/media/keyou/dev2/chromium64/src/cc/trees/single_thread_proxy.cc:140)
libcc.so!cc::LayerTreeHost::SetLayerTreeFrameSink(cc::LayerTreeHost * this, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > surface) (/media/keyou/dev2/chromium64/src/cc/trees/layer_tree_host.cc:487)
libcompositor.so!ui::Compositor::SetLayerTreeFrameSink(ui::Compositor * this, std::__Cr::unique_ptr<cc::LayerTreeFrameSink, std::__Cr::default_delete<cc::LayerTreeFrameSink> > layer_tree_frame_sink) (/media/keyou/dev2/chromium64/src/ui/compositor/compositor.cc:295)
libcontent.so!ui::HostContextFactoryPrivate::ConfigureCompositor(ui::HostContextFactoryPrivate * this, ui::Compositor * compositor, scoped_refptr<viz::ContextProvider> context_provider, scoped_refptr<viz::RasterContextProvider> worker_context_provider) (/media/keyou/dev2/chromium64/src/ui/compositor/host/host_context_factory_private.cc:155)
libcontent.so!content::VizProcessTransportFactory::OnEstablishedGpuChannel(content::VizProcessTransportFactory * this, base::WeakPtr<ui::Compositor> compositor_weak_ptr, scoped_refptr<gpu::GpuChannelHost> gpu_channel_host) (/media/keyou/dev2/chromium64/src/content/browser/compositor/viz_process_transport_factory.cc:391)
libcontent.so!base::internal::FunctorTraits<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), void>::Invoke<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost> >(void (content::VizProcessTransportFactory::*)(content::VizProcessTransportFactory * const, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>) method, base::WeakPtr<content::VizProcessTransportFactory> && receiver_ptr, scoped_refptr<gpu::GpuChannelHost> && args, scoped_refptr<gpu::GpuChannelHost> && args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:498)
libcontent.so!base::internal::InvokeHelper<true, void>::MakeItSo<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost> >(void (content::VizProcessTransportFactory::*&&)(content::VizProcessTransportFactory * const, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>) functor, base::WeakPtr<content::VizProcessTransportFactory> && weak_ptr, scoped_refptr<gpu::GpuChannelHost> && args, scoped_refptr<gpu::GpuChannelHost> && args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:618)
libcontent.so!base::internal::Invoker<base::internal::BindState<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >, void (scoped_refptr<gpu::GpuChannelHost>)>::RunImpl<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), std::__Cr::tuple<base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >, 0ul, 1ul>(void (content::VizProcessTransportFactory::*&&)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), std::__Cr::tuple<base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >&&, std::__Cr::integer_sequence<unsigned long, 0ul, 1ul>, scoped_refptr<gpu::GpuChannelHost>&&)(void (content::VizProcessTransportFactory::*&&)(content::VizProcessTransportFactory * const, base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>) functor, std::__Cr::tuple<base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> > && bound, scoped_refptr<gpu::GpuChannelHost> && unbound_args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:671)
libcontent.so!base::internal::Invoker<base::internal::BindState<void (content::VizProcessTransportFactory::*)(base::WeakPtr<ui::Compositor>, scoped_refptr<gpu::GpuChannelHost>), base::WeakPtr<content::VizProcessTransportFactory>, base::WeakPtr<ui::Compositor> >, void (scoped_refptr<gpu::GpuChannelHost>)>::RunOnce(base::internal::BindStateBase*, scoped_refptr<gpu::GpuChannelHost>&&)(base::internal::BindStateBase * base, base::internal::PassingType<scoped_refptr<gpu::GpuChannelHost> > unbound_args) (/media/keyou/dev2/chromium64/src/base/bind_internal.h:640)
libcontent.so!base::OnceCallback<void (scoped_refptr<gpu::GpuChannelHost>)>::Run(scoped_refptr<gpu::GpuChannelHost>) &&(base::OnceCallback<void (scoped_refptr<gpu::GpuChannelHost>)> * this, scoped_refptr<gpu::GpuChannelHost> args) (/media/keyou/dev2/chromium64/src/base/callback.h:98)
libcontent.so!content::BrowserGpuChannelHostFactory::EstablishRequest::RunCallbacksOnMain(content::BrowserGpuChannelHostFactory::EstablishRequest * this) (/media/keyou/dev2/chromium64/src/content/browser/gpu/browser_gpu_channel_host_factory.cc:211)
libcontent.so!content::BrowserGpuChannelHostFactory::EstablishRequest::FinishAndRunCallbacksOnMain(content::BrowserGpuChannelHostFactory::EstablishRequest * this) (/media/keyou/dev2/chromium64/src/content/browser/gpu/browser_gpu_channel_host_factory.cc:195)

创建 Root CFS, 运行在 VizCompositorThread 线程，在多进程模式下运行在 GPU 进程中
libservice.so!viz::Display::Display(viz::Display * this, viz::ServerSharedBitmapManager * bitmap_manager, const viz::RendererSettings & settings, const viz::FrameSinkId & frame_sink_id, std::__Cr::unique_ptr<viz::OutputSurface, std::__Cr::default_delete<viz::OutputSurface> > output_surface, std::__Cr::unique_ptr<viz::DisplayScheduler, std::__Cr::default_delete<viz::DisplayScheduler> > scheduler, scoped_refptr<base::SingleThreadTaskRunner> current_task_runner) (/media/keyou/dev2/chromium64/src/components/viz/service/display/display.cc:180)
libservice.so!std::__Cr::make_unique<viz::Display, viz::SharedBitmapManager*, viz::RendererSettings&, viz::FrameSinkId&, std::__Cr::unique_ptr<viz::OutputSurface, std::__Cr::default_delete<viz::OutputSurface> >, std::__Cr::unique_ptr<viz::DisplayScheduler, std::__Cr::default_delete<viz::DisplayScheduler> >, scoped_refptr<base::SingleThreadTaskRunner> >(scoped_refptr<base::SingleThreadTaskRunner> && __args, scoped_refptr<base::SingleThreadTaskRunner> && __args, scoped_refptr<base::SingleThreadTaskRunner> && __args, scoped_refptr<base::SingleThreadTaskRunner> && __args, scoped_refptr<base::SingleThreadTaskRunner> && __args, scoped_refptr<base::SingleThreadTaskRunner> && __args) (/media/keyou/dev2/chromium64/src/buildtools/third_party/libc++/trunk/include/memory:3043)
libservice.so!viz::RootCompositorFrameSinkImpl::Create(viz::mojom::RootCompositorFrameSinkParamsPtr params, viz::FrameSinkManagerImpl * frame_sink_manager, viz::OutputSurfaceProviderImpl * output_surface_provider, uint32_t restart_id, bool run_all_compositor_stages_before_draw) (/media/keyou/dev2/chromium64/src/components/viz/service/frame_sinks/root_compositor_frame_sink_impl.cc:113)
libservice.so!viz::FrameSinkManagerImpl::CreateRootCompositorFrameSink(viz::FrameSinkManagerImpl * this, viz::mojom::RootCompositorFrameSinkParamsPtr params) (/media/keyou/dev2/chromium64/src/components/viz/service/frame_sinks/frame_sink_manager_impl.cc:178)
libservice.so!viz::mojom::FrameSinkManagerStubDispatch::Accept(viz::FrameSinkManagerImpl * impl, mojo::Message * message) (/media/keyou/dev2/chromium64/src/out/debug/gen/services/viz/privileged/mojom/compositing/frame_sink_manager.mojom.cc:1463)
libservice.so!viz::mojom::FrameSinkManagerStub<mojo::RawPtrImplRefTraits<viz::mojom::FrameSinkManager> >::Accept(viz::mojom::FrameSinkManagerStub<mojo::RawPtrImplRefTraits<viz::mojom::FrameSinkManager> > * this, mojo::Message * message) (/media/keyou/dev2/chromium64/src/out/debug/gen/services/viz/privileged/mojom/compositing/frame_sink_manager.mojom.h:306)
libbindings.so!mojo::InterfaceEndpointClient::HandleValidatedMessage(mojo::InterfaceEndpointClient * this, mojo::Message * message) (/media/keyou/dev2/chromium64/src/mojo/public/cpp/bindings/lib/interface_endpoint_client.cc:554)
libbindings.so!mojo::InterfaceEndpointClient::HandleIncomingMessageThunk::Accept(mojo::InterfaceEndpointClient::HandleIncomingMessageThunk * this, mojo::Message * message) (/media/keyou/dev2/chromium64/src/mojo/public/cpp/bindings/lib/interface_endpoint_client.cc:140)

```
